{"version":3,"sources":["webpack:///./js/services/service-api.js","webpack:///./js/helpers/decorator.js","webpack:///./js/model.js","webpack:///./js/services/event-emitter.js","webpack:///./js/constants/collectionTypes.js","webpack:///./js/classes/User.js","webpack:///./js/classes/Admin.js","webpack:///./js/classes/UserFactory.js","webpack:///./js/view.js","webpack:///./js/controller.js","webpack:///./index.js"],"names":["customDecorator","target","key","descriptor","original","value","success","text","closerHover","delay","args","apply","this","error","service","server","axios","initUsers","params","post","result","Error","getAllUsers","get","addEvent","getAllEvents","data","deleteEvent","id","delete","Model","items","selectedItemId","filteredItems","filterItems","formState","Object","values","every","el","nameOfMemberValue","filter","item","name","join","getEvents","callback","then","map","obj","JSON","parse","forEach","push","findItem","find","setSelectedItemId","getSelectedItemId","addItem","title","dayOfWeek","time","shortid","row","indexOf","col","some","alert","stringify","initUser","i","users","length","res","deleteItem","idObj","getArrayOfStrings","includes","getObj","EventEmitter","instance","events","on","type","emit","collectionTypes","HELGA","PABLO","KATE","ALEX","User","_name","newName","Admin","role","_role","UserFactory","create","object","EVENT_EMITTER","View","isAdmin","container","document","querySelector","authModal","selectedUser","confirmUser","form","main","modal","selectNameMember","createModalForm","addNoteBtn","signoutBtn","header","cancelCreateBtn","$","ready","multiselect","includeSelectAllOption","table","addEventListener","toggleDropdown","signOut","bind","onSelectNameMemberChange","openCreateModal","handleAdd","closeCreateModal","handleAuth","e","preventDefault","selected","Array","from","options","option","event","slice","reset","createDOMElement","tag","dataAttribute","element","createElement","dataset","textContent","classes","className","classList","add","createGreetings","createNote","note","section","itemTitle","buttonsContainer","buttonDelete","append","appendEventListners","handleDelete","parent","closest","stopPropagation","deleteNote","remove","closeAuthModal","selectedUserName","toLowerCase","querySelectorAll","style","display","localStorage","removeItem","location","reload","init","notes","cell","cellsData","getElementsByTagName","innerHTML","rows","cells","nothingsFound","Controller","model","view","addNote","handleFilter","showAllNotes","handleCreateCancel"],"mappings":"+rBACA,I,8TCMe,SAASA,EAAgBC,EAAQC,EAAKC,GAEnD,IAAMC,EAAWD,EAAWE,MACJ,mBAAbD,IACTE,kBAAQ,CACNC,KAAM,WACNC,aAAa,EACbC,MAAO,MAITN,EAAWE,MAAX,2BAAmB,2IAAmBK,EAAnB,yBAAmBA,EAAnB,wBAEFN,EAASO,MAAMC,KAAMF,GAFnB,wEAIfG,gBAAM,CACJN,KAAM,SACNC,aAAa,EACbC,MAAO,MAPM,0D,miBCXvB,IAAMK,EAAU,I,WFFd,aACEF,KAAKG,OALO,qDAMZH,KAAKI,MAAQA,I,2BAGTC,U,4CAAN,WAAgBC,GAAhB,+GAEuBN,KAAKI,MAAMG,KAAQP,KAAKG,OAAxB,SAAwCG,GAF/D,cAEQE,EAFR,yBAGWA,GAHX,sCAKU,IAAIC,MAAJ,MALV,yD,wDAQMC,Y,4CAAN,4HAEuBV,KAAKI,MAAMO,IAAOX,KAAKG,OAAvB,UAFvB,cAEQK,EAFR,yBAGWA,GAHX,sCAKU,IAAIC,MAAJ,MALV,yD,uDASMG,S,4CAAN,WAAeN,GAAf,+GAEuBN,KAAKI,MAAMG,KAAQP,KAAKG,OAAxB,UAAyCG,GAFhE,cAEQE,EAFR,yBAIWA,GAJX,sCAMU,IAAIC,MAAJ,MANV,yD,wDASMI,a,4CAAN,4HAEuBb,KAAKI,MAAMO,IAAOX,KAAKG,OAAvB,WAFvB,cAEQK,EAFR,yBAIWA,EAAOM,MAJlB,sCAMU,IAAIL,MAAJ,MANV,yD,uDASMM,Y,4CAAN,WAAkBC,GAAlB,+GAEuBhB,KAAKI,MAAMa,OAAUjB,KAAKG,OAA1B,WAA2Ca,GAFlE,cAEQR,EAFR,yBAGWA,GAHX,sCAKU,IAAIC,MAAJ,MALV,yD,4DEpCmBS,G,gBACnB,WAAYC,QAAY,IAAZA,MAAQ,IAClBnB,KAAKmB,MAAQA,EACbnB,KAAKoB,eAAiB,KACtBpB,KAAKqB,cAAgB,G,2BAGvBC,YAAA,SAAYC,GACWC,OAAOC,OAAOF,GAAWG,OAAM,SAAAC,GAAE,MAAW,KAAPA,OAExD3B,KAAKqB,cAAgBrB,KAAKmB,OAGM,KAAhCI,EAAUK,mBACsB,gBAAhCL,EAAUK,oBAEV5B,KAAKqB,cAAgBrB,KAAKqB,cAAcQ,QAAO,SAAAC,GAAI,OACjDA,EAAKC,KAAKF,QAAO,SAAAF,GAAE,OAAIA,IAAOJ,EAAUK,qBAAmBI,KAAK,S,EAMhEC,U,+CADN,WACgBC,GADhB,kGAEElC,KAAKmB,MAFP,SAGQjB,EAAQW,eAAesB,MAAK,SAAA3B,GAKhC,OAJAA,GACEA,EACG4B,KAAI,SAAAC,GAAG,OAAIC,KAAKC,MAAMF,EAAIvB,SAC1B0B,SAAQ,SAAAb,GAAE,OAAI,EAAKR,MAAMsB,KAAKd,MAC5B,EAAKR,SARhB,OAWEe,IAXF,+C,uOAcAQ,SAAA,SAAS1B,GACP,OAAOhB,KAAKmB,MAAMwB,MAAK,SAAAb,GAAI,OAAIA,EAAKd,KAAOA,M,EAG7C4B,kBAAA,SAAkB5B,GAChBhB,KAAKoB,eAAiBJ,G,EAGxB6B,kBAAA,WACE,OAAO7C,KAAKoB,gB,EAId0B,QADA,YAC0C,IAAhCC,EAAgC,EAAhCA,MAAOhB,EAAyB,EAAzBA,KAAMiB,EAAmB,EAAnBA,UAAWC,EAAQ,EAARA,KAc1BnB,EAAO,CACXd,GAAIkC,MACJH,QACAhB,OACAkB,OACAD,YACAG,IAnBgB,CAChB,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SAUeC,QAAQH,GACvBI,IATiB,CAAC,SAAU,UAAW,YAAa,WAAY,UAShDD,QAAQJ,IAGP,OAAfhD,KAAKmB,QACKnB,KAAKmB,MAAMmC,MACrB,SAAA3B,GAAE,OAAIA,EAAGqB,YAAclB,EAAKkB,WAAarB,EAAGsB,OAASnB,EAAKmB,QAiB1DM,gBAAM,2DAdNvD,KAAKmB,MAAMsB,KAAKX,GAChB5B,EACGU,SAAS,CACRE,KAAMwB,KAAKkB,UAAU1B,KAEtBK,MAAK,SAAA3B,GAMJ,OALAd,kBAAQ,CACNC,KAAM,mBACNC,aAAa,EACbC,MAAO,MAEFW,EAAOM,W,EASxB2C,SADA,WAEEvD,EAAQQ,cAAcyB,MAAK,SAAA3B,GACzB,GAAoB,OAAhBA,EAAOM,KACT,IAAK,IAAI4C,EAAI,EAAGA,GAAKC,EAAMC,OAAQF,GAAK,EACtCxD,EACGG,UAAU,CACTS,KAAM,GAAG6C,EAAMD,GAAG5C,OAEnBqB,MAAK,SAAA0B,GACJ,OAAOA,S,EAOnBC,WADA,SACW9C,GACT,IAAI+C,EACJ7D,EAAQW,eAAesB,MAAK,SAAA3B,GAC1B,IAAIwD,EAAoBxD,EACrB4B,KAAI,SAAAT,GAAE,OAAIA,EAAGb,QACb6B,MAAK,SAAAhB,GAAE,OAAIA,EAAGsC,SAASjD,MACtBkD,EAAS1D,EACVqB,QAAO,SAAAF,GAAE,OAAIA,EAAGb,OAASkD,KACzBrB,MAAK,SAAAhB,GAAE,OAAIA,EAAGX,MACjB+C,EAAQG,EAAOlD,GACfd,EAAQa,YAAYgD,GAAO5B,MAAK,WAC9BzC,kBAAQ,CACNC,KAAM,WACNC,aAAa,EACbC,MAAO,YAMbG,KAAKmB,MAAQnB,KAAKmB,MAAMU,QAAO,SAAAC,GAAI,OAAIA,EAAKd,KAAOA,M,6BAhHpD5B,G,+FA0BAA,G,8FAiDAA,G,iGAgBAA,G,0ECnGY+E,G,yCAtBb,aACE,MAAqC,iBAA1BA,EAAaC,SACfD,EAAaC,UAGtBpE,KAAKqE,OAAS,GACdF,EAAaC,SAAWpE,KACjBA,M,2BAGTsE,GAAA,SAAGC,EAAMrC,GACPlC,KAAKqE,OAAOE,GAAQvE,KAAKqE,OAAOE,IAAS,GACzCvE,KAAKqE,OAAOE,GAAM9B,KAAKP,I,EAGzBsC,KAAA,SAAKD,GAAe,2BAANzE,EAAM,iCAANA,EAAM,kBACdE,KAAKqE,OAAOE,IACdvE,KAAKqE,OAAOE,GAAM/B,SAAQ,SAAAN,GAAQ,OAAIA,EAAQ,WAAR,EAAYpC,O,MCXvC2E,EAPO,CACpBC,MAAO,QACPC,MAAO,QACPC,KAAM,OACNC,KAAM,Q,0KCJWC,E,WACjB,WAAY/C,GACR/B,KAAK+B,KAAOA,E,oDAId,OAAO/B,KAAK+E,O,aAGLC,GACP,OAAOhF,KAAK+E,MAAQC,O,gICRLC,E,oBACjB,cAAyB,MAAZlD,EAAY,EAAZA,KAAKmD,EAAO,EAAPA,KAAO,OACrB,cAAMnD,IAAN,MACKoD,MAAQD,EAFQ,E,0FADMJ,GCEdM,E,kCACZC,OAAP,SAAcd,EAAMe,GAClB,OAAQf,GACN,KAAKE,EAAgBC,MAErB,KAAKD,EAAgBE,MACnB,OAAO,IAAIG,EAAKQ,GAChB,KAAKb,EAAgBI,KACnB,OAAO,IAAII,EAAMK,GACnB,KAAKb,EAAgBG,KACnB,OAAO,IAAIE,EAAKQ,K,KCPpBC,EAAgB,IAAIpB,EAELqB,E,WACnB,aACExF,KAAKuB,UAAY,CACfK,kBAAmB,GACnB6D,SAAS,GAGXzF,KAAKgB,GAAKkC,MACVlD,KAAK0F,UAAYC,SAASC,cAAc,cACxC5F,KAAK6F,UAAYF,SAASC,cAAc,sBACxC5F,KAAK8F,aAAe9F,KAAK6F,UAAUD,cACjC,4BAEF5F,KAAK+F,YAAcJ,SAASC,cAAc,iCAC1C5F,KAAKgG,KAAOL,SAASC,cAAc,SACnC5F,KAAKiG,KAAON,SAASC,cAAc,iBACnC5F,KAAKkG,MAAQP,SAASC,cAAc,iBACpC5F,KAAKmG,iBAAmBnG,KAAKgG,KAAKJ,cAAc,iBAChD5F,KAAKoG,gBAAkBpG,KAAKkG,MAAMN,cAAc,eAChD5F,KAAKqG,WAAaV,SAASC,cAAc,kCACzC5F,KAAKsG,WAAaX,SAASC,cAAc,iCACzC5F,KAAKuG,OAASZ,SAASC,cAAc,qBACrC5F,KAAKwG,gBAAkBb,SAASC,cAC9B,uCAEFa,EAAEd,UAAUe,OAAM,WAChBD,EAAE,wBAAwBE,YAAY,CACpCC,wBAAwB,OAG5B5G,KAAK6G,MAAQlB,SAASC,cAAc,SAEpC5F,KAAK0F,UAAUoB,iBAAiB,QAAS9G,KAAK+G,gBAC9C/G,KAAKsG,WAAWQ,iBAAiB,QAAS9G,KAAKgH,QAAQC,KAAKjH,OAC5DA,KAAKmG,iBAAiBW,iBACpB,SACA9G,KAAKkH,yBAAyBD,KAAKjH,OAErCA,KAAKqG,WAAWS,iBAAiB,QAAS9G,KAAKmH,gBAAgBF,KAAKjH,OACpEA,KAAKoG,gBAAgBU,iBAAiB,SAAU9G,KAAKoH,UAAUH,KAAKjH,OACpEA,KAAKwG,gBAAgBM,iBACnB,QACA9G,KAAKqH,iBAAiBJ,KAAKjH,OAE7BA,KAAK+F,YAAYe,iBAAiB,QAAS9G,KAAKsH,WAAWL,KAAKjH,O,2BAGlEkH,yBAAA,SAAyBK,GACvBvH,KAAKuB,UAAUK,kBAAoB2F,EAAElI,OAAOI,MAC5C8F,EAAcf,KAAK,SAAUxE,KAAKuB,Y,EAGpC6F,UAAA,SAAUG,GACRA,EAAEC,iBACF,IAAMzE,EAAQ/C,KAAKkG,MAAMN,cAAc,sBACjC5C,EAAYhD,KAAKkG,MAAMN,cAAc,2BACrC3C,EAAOjD,KAAKkG,MAAMN,cAAc,4BAChC7D,EAAO/B,KAAKkG,MAAMN,cAAc,wBAElC6B,EAAWC,MAAMC,KAAK5F,EAAK6F,SAC5B/F,QAAO,SAAUE,GAChB,OAAOA,EAAK0F,YAEbrF,KAAI,SAAUyF,GACb,OAAOA,EAAOpI,SAGlB,GAAKsD,EAAMtD,MAIJ,CACL,IAAMqI,EAAQ,CACZ/E,MAAOA,EAAMtD,MAAMmE,OAAS,GAC1Bb,EAAMtD,MAAMsI,MAAM,EAAG,IAAM,MAAQhF,EAAMtD,MAC3CuD,UAAWA,EAAUvD,MACrBwD,KAAMA,EAAKxD,MACXsC,KAAM0F,GAGRlC,EAAcf,KAAK,MAAOsD,GAC1B9H,KAAKoG,gBAAgB4B,QACrBhI,KAAKqH,wBAdL9D,gBAAM,CACJ5D,KAAM,6B,EAgBZsI,iBAAA,SAAiBC,EAAKC,EAAexI,GACnC,IAAMyI,EAAUzC,SAAS0C,cAAcH,GACvCC,IAEGC,EAAQE,QAAQH,EAAc,IAAMA,EAAc,IAErDxI,IAAQyI,EAAQG,YAAc5I,GANuB,2BAAT6I,EAAS,iCAATA,EAAS,kBAQrD,OADAA,EAAQhG,SAAQ,SAAAiG,GAAS,OAAIL,EAAQM,UAAUC,IAAIF,MAC5CL,G,EAGTQ,gBAAA,SAAgB7G,GAGd,OAFc/B,KAAKiI,iBAAiB,KAAM,KAAMlG,EAAM,c,EAIxD8G,WAAA,SAAWC,GACT,IAAMC,EAAU/I,KAAKiI,iBACnB,UACA,KACA,KACA,uBAEInG,EAAO9B,KAAKiI,iBAAiB,MAAO,CAAC,KAAMa,EAAK9H,IAAK,KAAM,QAE3DgI,EAAYhJ,KAAKiI,iBACrB,KACA,KACAa,EAAK/F,MACL,eAGIkG,EAAmBjJ,KAAKiI,iBAC5B,MACA,KACA,KACA,qBAGIiB,EAAelJ,KAAKiI,iBACxB,SACA,CAAC,SAAU,UACX,GACA,iBAOF,OAJAgB,EAAiBE,OAAOD,GACxBpH,EAAKqH,OAAOH,EAAWC,GACvBF,EAAQI,OAAOrH,GACf9B,KAAKoJ,oBAAoBL,GAClBA,G,EAGTK,oBAAA,SAAoBtH,GACAA,EAAK8D,cAAc,gCAC3BkB,iBAAiB,QAAS9G,KAAKqJ,aAAapC,KAAKjH,Q,EAG7DqJ,aAAA,SAAa9B,GACX,IAAM+B,EAAS/B,EAAElI,OAAOkK,QAAQ,SAChChC,EAAEiC,kBACFjE,EAAcf,KAAK,SAAU8E,EAAOhB,QAAQtH,K,EAG9CyI,WAAA,SAAWzI,GACIhB,KAAK6G,MAAMjB,cAAX,aAAsC5E,EAAtC,MACRuI,QAAQ,WAAWG,U,EAG1BvC,gBAAA,WACEnH,KAAK0F,UAAUgD,UAAUC,IAAI,gB,EAG/BtB,iBAAA,WACErH,KAAK0F,UAAUgD,UAAUgB,OAAO,gB,EAElCC,eAAA,WACE3J,KAAK0F,UAAUgD,UAAUgB,OAAO,sB,EAGlCpC,WAAA,SAAWC,GACTA,EAAEC,iBAEF,IAAM1B,EAAe9F,KAAK6F,UAAUD,cAClC,4BAEEgE,EAAmB9D,EAAarG,MAAMoK,cACpC1I,EAAQnB,KAAK6G,MAAMiD,iBAAiB,gCAE1C,OAAQF,GACN,KAAKnF,EAAgBI,KACnB7E,KAAKuB,UAAUkE,QAAUL,EAAYC,OAAOuE,EAAkB,CAC5D7H,KAAM,GAAG+D,EAAarG,MACtByF,MAAM,IAER/D,EAAMqB,SAAQ,SAAAV,GACZA,EAAKiI,MAAMC,QAAU,WAEvB,MACF,KAAKvF,EAAgBC,MACrB,KAAKD,EAAgBE,MACrB,KAAKF,EAAgBG,KACnBQ,EAAYC,OAAOuE,EAAnB,GAAwC9D,EAAarG,OACrDO,KAAKqG,WAAW0D,MAAMC,QAAU,OAChC7I,EAAMqB,SAAQ,SAAAV,GACZA,EAAKiI,MAAMC,QAAU,UAEvB,MACF,QACE,OAGJhK,KAAKuG,OAAO4C,OAAOnJ,KAAK4I,gBAAL,UAA+B9C,EAAarG,QAC/DO,KAAK2J,kB,EAGP3C,QAAA,WACEiD,aAAaC,WAAW,YACxBC,SAASC,U,EAGXC,KAAA,SAAKC,GAGH,IAHU,WACNC,EAAO,KACPC,EAAYxK,KAAK6G,MAAM4D,qBAAqB,MACvC/G,EAAI,EAAGA,EAAI8G,EAAU5G,OAAQF,IACpC8G,EAAU9G,GAAGgH,UAAY,GAE3BJ,EAAM9H,SAAQ,SAAAsG,GAGQ,KAFpByB,EAAO,EAAK1D,MAAM8D,KAAK7B,EAAK3F,IAAM,GAAGyH,MAAM9B,EAAKzF,IAAM,IACpCoH,qBAAqB,WAC9B7G,QACP2G,EAAKpB,OAAO,EAAKN,WAAWC,OAGhC,IAAM3H,EAAQnB,KAAK6G,MAAMiD,iBAAiB,iCACzC9J,KAAKuB,UAAUkE,SACdtE,EAAMqB,SAAQ,SAAAV,GACZA,EAAKiI,MAAMC,QAAU,W,EAI3Ba,cAAA,WAEE,IADA,IAAIL,EAAYxK,KAAK6G,MAAM4D,qBAAqB,MACvC/G,EAAI,EAAGA,EAAI8G,EAAU5G,OAAQF,IACpC8G,EAAU9G,GAAGgH,UAAY,I,KC5OzBnF,EAAgB,IAAIpB,EAEL2G,E,WACnB,WAAYC,EAAOC,GAAM,WACvBhL,KAAK+K,MAAQA,EACb/K,KAAKgL,KAAOA,EACZhL,KAAK+K,MAAMtH,WACXzD,KAAK+K,MAAM9I,WAAU,kBAAM,EAAK+I,KAAKX,KAAK,EAAKU,MAAM5J,UACrDoE,EAAcjB,GAAG,MAAOtE,KAAKiL,QAAQhE,KAAKjH,OAC1CuF,EAAcjB,GAAG,SAAUtE,KAAKyJ,WAAWxC,KAAKjH,OAChDuF,EAAcjB,GAAG,SAAUtE,KAAKkL,aAAajE,KAAKjH,OAClDuF,EAAcjB,GAAG,WAAYtE,KAAKmL,aAAalE,KAAKjH,OACpDA,KAAKoL,qB,2BAIPF,aAAA,SAAa3J,GACXvB,KAAK+K,MAAMzJ,YAAYC,GACvBvB,KAAK+K,MAAM1J,cAAcuC,OACvB5D,KAAKgL,KAAKX,KAAKrK,KAAK+K,MAAM1J,eAC1BrB,KAAKgL,KAAKH,gBAEZ7K,KAAK+K,MAAM1J,cAAgBrB,KAAK+K,MAAM5J,O,EAGxCgK,aAAA,WACE5F,EAAcjB,GAAG,WAAYtE,KAAKgL,KAAKX,KAAKrK,KAAK+K,MAAM5J,S,EAIzDiK,mBAAA,WACEpL,KAAKgL,KAAK3D,oB,EAGZ4D,QAAA,SAAQnD,GACN9H,KAAK+K,MAAMjI,QAAQgF,GACnB9H,KAAKmL,gB,EAGP1B,WAAA,SAAWzI,GACThB,KAAK+K,MAAMjH,WAAW9C,GACtBhB,KAAKgL,KAAKvB,WAAWzI,I,KCtCnBgK,EAAO,IAAIxF,EAGjB,IAAIsF,EAFU,IAAI5J,EAEI8J,I","file":"main.6980e06ad845b957a6ae.js","sourcesContent":["import axios from 'axios';\nconst baseURL = 'http://158.101.166.74:8080/api/data/kate_kiriuhina';\n\n\nexport default class ServiceAPI {\n  constructor() {\n    this.server = baseURL;\n    this.axios = axios;\n  }\n\n  async initUsers(params) {\n    try {\n      let result = await this.axios.post(`${this.server}/users`, params);\n      return result;\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n  async getAllUsers() {\n    try {\n      let result = await this.axios.get(`${this.server}/users`);\n      return result;\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n\n  async addEvent(params) {\n    try {\n      let result = await this.axios.post(`${this.server}/events`, params);\n\n      return result;\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n  async getAllEvents() {\n    try {\n      let result = await this.axios.get(`${this.server}/events`);\n\n      return result.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n  async deleteEvent(id) {\n    try {\n      let result = await this.axios.delete(`${this.server}/events/${id}`);\n      return result;\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n}","import {\r\n  success,\r\n  error\r\n} from '@pnotify/core';\r\nimport '@pnotify/core/dist/PNotify.css';\r\n\r\n\r\nexport default function customDecorator(target, key, descriptor) {\r\n\r\n  const original = descriptor.value;\r\n  if (typeof original === 'function') {\r\n    success({\r\n      text: \"Success!\",\r\n      closerHover: false,\r\n      delay: 1000\r\n\r\n    });\r\n\r\n    descriptor.value = async function (...args) {\r\n      try {\r\n        return await original.apply(this, args);\r\n      } catch (e) {\r\n        error({\r\n          text: \"Erorr!\",\r\n          closerHover: false,\r\n          delay: 1000\r\n\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n","import shortid from 'shortid';\nimport { alert, success, error } from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css';\nimport users from '../users.json';\nimport ServiceAPI from './services/service-api';\nimport customDecorator from './helpers/decorator';\n\nconst service = new ServiceAPI();\n\nexport default class Model {\n  constructor(items = []) {\n    this.items = items;\n    this.selectedItemId = null;\n    this.filteredItems = [];\n  }\n\n  filterItems(formState) {\n    const isEmptyState = Object.values(formState).every(el => el === '');\n    if (isEmptyState) {\n      this.filteredItems = this.items;\n    }\n    if (\n      formState.nameOfMemberValue !== '' &&\n      formState.nameOfMemberValue !== 'All members'\n    ) {\n      this.filteredItems = this.filteredItems.filter(item =>\n        item.name.filter(el => el === formState.nameOfMemberValue).join(''),\n      );\n    }\n  }\n\n  @customDecorator\n  async getEvents(callback) {\n    this.items;\n    await service.getAllEvents().then(result => {\n      result &&\n        result\n          .map(obj => JSON.parse(obj.data))\n          .forEach(el => this.items.push(el));\n      return this.items;\n    });\n\n    callback();\n  }\n\n  findItem(id) {\n    return this.items.find(item => item.id === id);\n  }\n\n  setSelectedItemId(id) {\n    this.selectedItemId = id;\n  }\n\n  getSelectedItemId() {\n    return this.selectedItemId;\n  }\n\n  @customDecorator\n  addItem({ title, name, dayOfWeek, time }) {\n    const timeOfDay = [\n      '10:00',\n      '11:00',\n      '12:00',\n      '13:00',\n      '14:00',\n      '15:00',\n      '16:00',\n      '17:00',\n      '18:00',\n    ];\n    const daysOfWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n\n    const item = {\n      id: shortid(),\n      title,\n      name,\n      time,\n      dayOfWeek,\n      row: timeOfDay.indexOf(time),\n      col: daysOfWeek.indexOf(dayOfWeek),\n    };\n    let checkTime;\n    if (this.items !== null) {\n      checkTime = this.items.some(\n        el => el.dayOfWeek === item.dayOfWeek && el.time === item.time,\n      );\n      if (!checkTime) {\n        this.items.push(item);\n        service\n          .addEvent({\n            data: JSON.stringify(item),\n          })\n          .then(result => {\n            success({\n              text: 'Added new event.',\n              closerHover: false,\n              delay: 1000,\n            });\n            return result.data;\n          });\n      } else {\n        alert('Failed to create an event! Time slot is already booked');\n      }\n    }\n  }\n\n  @customDecorator\n  initUser() {\n    service.getAllUsers().then(result => {\n      if (result.data === null) {\n        for (let i = 0; i <= users.length; i += 1) {\n          service\n            .initUsers({\n              data: `${users[i].data}`,\n            })\n            .then(res => {\n              return res;\n            });\n        }\n      }\n    });\n  }\n  @customDecorator\n  deleteItem(id) {\n    let idObj;\n    service.getAllEvents().then(result => {\n      let getArrayOfStrings = result\n        .map(el => el.data)\n        .find(el => el.includes(id));\n      let getObj = result\n        .filter(el => el.data === getArrayOfStrings)\n        .find(el => el.id);\n      idObj = getObj.id;\n      service.deleteEvent(idObj).then(() => {\n        success({\n          text: 'Deleted.',\n          closerHover: false,\n          delay: 1000,\n        });\n        return;\n      });\n      return;\n    });\n    this.items = this.items.filter(item => item.id !== id);\n  }\n}\n","class EventEmitter {\n  constructor() {\n    if (typeof EventEmitter.instance === 'object') {\n      return EventEmitter.instance;\n    }\n\n    this.events = {};\n    EventEmitter.instance = this;\n    return this;\n  }\n\n  on(type, callback) {\n    this.events[type] = this.events[type] || [];\n    this.events[type].push(callback);\n  }\n\n  emit(type, ...args) {\n    if (this.events[type]) {\n      this.events[type].forEach(callback => callback(...args));\n    }\n  }\n}\n\nexport default EventEmitter;\n","const collectionTypes = {\n    HELGA: 'helga',\n    PABLO: 'pablo',\n    KATE: 'kate',\n    ALEX: 'alex',\n  };\n  \n  export default collectionTypes;\n  ","export default class User {\n    constructor(name) {\n        this.name = name;\n      }\n\n    get name() {\n      return this._name\n    }\n\n    set name(newName) {\n      return this._name = newName\n  }\n  }\n  ","import User from './User';\n\nexport default class Admin extends User {\n    constructor({name,role}) {\n        super(name);\n        this._role = role;\n      }\n\n}\n","import collectionTypes from '../constants/collectionTypes';\r\nimport User from './User';\r\nimport Admin from './Admin';\r\n\r\nexport default class UserFactory {\r\n  static create(type, object) {\r\n    switch (type) {\r\n      case collectionTypes.HELGA:\r\n        return new User(object);\r\n      case collectionTypes.PABLO:\r\n        return new User(object);\r\n        case collectionTypes.ALEX:\r\n          return new Admin(object);\r\n        case collectionTypes.KATE:\r\n          return new User(object);\r\n      default: {\r\n    \r\n      }\r\n    }\r\n  }\r\n}\r\n","\nimport { alert, success, error } from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css';\nimport EventEmitter from './services/event-emitter';\nimport collectionTypes from './constants/collectionTypes';\nimport UserFactory from './classes/UserFactory';\nimport shortid from 'shortid';\nconst EVENT_EMITTER = new EventEmitter();\n\nexport default class View {\n  constructor() {\n    this.formState = {\n      nameOfMemberValue: '',\n      isAdmin: false,\n    };\n\n    this.id = shortid();\n    this.container = document.querySelector('.container');\n    this.authModal = document.querySelector('.modal-window-auth');\n    this.selectedUser = this.authModal.querySelector(\n      '.modal-form__select-name',\n    );\n    this.confirmUser = document.querySelector('button[data-action=\"confirm\"]');\n    this.form = document.querySelector('.form');\n    this.main = document.querySelector('.main-content');\n    this.modal = document.querySelector('.modal-window');\n    this.selectNameMember = this.form.querySelector('.select--name');\n    this.createModalForm = this.modal.querySelector('.modal-form');\n    this.addNoteBtn = document.querySelector('button[data-action=\"add-note\"]');\n    this.signoutBtn = document.querySelector('button[data-action=\"signout\"]');\n    this.header = document.querySelector('.header-container');\n    this.cancelCreateBtn = document.querySelector(\n      'button[data-action=\"create-cancel\"]',\n    );\n    $(document).ready(function () {\n      $('#multiple-checkboxes').multiselect({\n        includeSelectAllOption: true,\n      });\n    });\n    this.table = document.querySelector('table');\n\n    this.container.addEventListener('click', this.toggleDropdown);\n    this.signoutBtn.addEventListener('click', this.signOut.bind(this));\n    this.selectNameMember.addEventListener(\n      'change',\n      this.onSelectNameMemberChange.bind(this),\n    );\n    this.addNoteBtn.addEventListener('click', this.openCreateModal.bind(this));\n    this.createModalForm.addEventListener('submit', this.handleAdd.bind(this));\n    this.cancelCreateBtn.addEventListener(\n      'click',\n      this.closeCreateModal.bind(this),\n    );\n    this.confirmUser.addEventListener('click', this.handleAuth.bind(this));\n  }\n\n  onSelectNameMemberChange(e) {\n    this.formState.nameOfMemberValue = e.target.value;\n    EVENT_EMITTER.emit('filter', this.formState);\n  }\n\n  handleAdd(e) {\n    e.preventDefault();\n    const title = this.modal.querySelector('.modal-form__input');\n    const dayOfWeek = this.modal.querySelector('.modal-form__select-day');\n    const time = this.modal.querySelector('.modal-form__select-time');\n    const name = this.modal.querySelector('#multiple-checkboxes');\n\n    let selected = Array.from(name.options)\n      .filter(function (name) {\n        return name.selected;\n      })\n      .map(function (option) {\n        return option.value;\n      });\n\n    if (!title.value) {\n      alert({\n        text: 'Please, fill the field!',\n      });\n    } else {\n      const event = {\n        title: title.value.length > 15 ?\n          title.value.slice(0, 16) + '...' : title.value,\n        dayOfWeek: dayOfWeek.value,\n        time: time.value,\n        name: selected,\n      };\n\n      EVENT_EMITTER.emit('add', event);\n      this.createModalForm.reset();\n      this.closeCreateModal();\n    }\n  }\n  createDOMElement(tag, dataAttribute, text, ...classes) {\n    const element = document.createElement(tag);\n    dataAttribute\n      ?\n      (element.dataset[dataAttribute[0]] = dataAttribute[1]) :\n      null;\n    text ? (element.textContent = text) : null;\n    classes.forEach(className => element.classList.add(className));\n    return element;\n  }\n\n  createGreetings(name) {\n    const title = this.createDOMElement('h2', null, name, 'name-user');\n\n    return title;\n  }\n  createNote(note) {\n    const section = this.createDOMElement(\n      'section',\n      null,\n      null,\n      'event-list__section',\n    );\n    const item = this.createDOMElement('div', ['id', note.id], null, 'item');\n\n    const itemTitle = this.createDOMElement(\n      'h2',\n      null,\n      note.title,\n      'item__title',\n    );\n\n    const buttonsContainer = this.createDOMElement(\n      'div',\n      null,\n      null,\n      'buttons-container',\n    );\n\n    const buttonDelete = this.createDOMElement(\n      'button',\n      ['action', 'delete'],\n      '',\n      'button-delete',\n    );\n\n    buttonsContainer.append(buttonDelete);\n    item.append(itemTitle, buttonsContainer);\n    section.append(item);\n    this.appendEventListners(section);\n    return section;\n  }\n\n  appendEventListners(item) {\n    const deleteBtn = item.querySelector('button[data-action=\"delete\"]');\n    deleteBtn.addEventListener('click', this.handleDelete.bind(this));\n  }\n\n  handleDelete(e) {\n    const parent = e.target.closest('.item');\n    e.stopPropagation();\n    EVENT_EMITTER.emit('delete', parent.dataset.id);\n  }\n\n  deleteNote(id) {\n    const item = this.table.querySelector(`[data-id=\"${id}\"]`);\n    item.closest('section').remove();\n  }\n\n  openCreateModal() {\n    this.container.classList.add('modal--show');\n  }\n\n  closeCreateModal() {\n    this.container.classList.remove('modal--show');\n  }\n  closeAuthModal() {\n    this.container.classList.remove('modal--auth--show');\n  }\n\n  handleAuth(e) {\n    e.preventDefault();\n\n    const selectedUser = this.authModal.querySelector(\n      '.modal-form__select-name',\n    );\n    let selectedUserName = selectedUser.value.toLowerCase();\n    const items = this.table.querySelectorAll('button[data-action=\"delete\"]');\n\n    switch (selectedUserName) {\n      case collectionTypes.ALEX:\n        this.formState.isAdmin = UserFactory.create(selectedUserName, {\n          name: `${selectedUser.value}`,\n          role: true,\n        });\n        items.forEach(item => {\n          item.style.display = 'block';\n        });\n        break;\n      case collectionTypes.HELGA:\n      case collectionTypes.PABLO:\n      case collectionTypes.KATE:\n        UserFactory.create(selectedUserName, `${selectedUser.value}`);\n        this.addNoteBtn.style.display = 'none';\n        items.forEach(item => {\n          item.style.display = 'none';\n        });\n        break;\n      default:\n        return;\n    }\n\n    this.header.append(this.createGreetings(`Hello, ${selectedUser.value}`));\n    this.closeAuthModal();\n  }\n\n  signOut() {\n    localStorage.removeItem('userRole');\n    location.reload();\n  }\n\n  init(notes) {\n    let cell = null;\n    let cellsData = this.table.getElementsByTagName('td');\n    for (let i = 0; i < cellsData.length; i++) {\n      cellsData[i].innerHTML = '';\n    }\n    notes.forEach(note => {\n      cell = this.table.rows[note.row + 1].cells[note.col + 1];\n      const item = cell.getElementsByTagName('section');\n      if (item.length === 0) {\n        cell.append(this.createNote(note));\n      }\n    });\n    const items = this.table.querySelectorAll('button[data-action=\"delete\"]');\n    !this.formState.isAdmin &&\n      items.forEach(item => {\n        item.style.display = 'none';\n      });\n  }\n\n  nothingsFound() {\n    let cellsData = this.table.getElementsByTagName('td');\n    for (let i = 0; i < cellsData.length; i++) {\n      cellsData[i].innerHTML = '';\n    }\n  }\n}\n","import EventEmitter from './services/event-emitter';\n\nconst EVENT_EMITTER = new EventEmitter();\n\nexport default class Controller {\n  constructor(model, view) {\n    this.model = model;\n    this.view = view;\n    this.model.initUser()\n    this.model.getEvents(() => this.view.init(this.model.items))\n    EVENT_EMITTER.on(\"add\", this.addNote.bind(this));\n    EVENT_EMITTER.on(\"delete\", this.deleteNote.bind(this));\n    EVENT_EMITTER.on(\"filter\", this.handleFilter.bind(this));\n    EVENT_EMITTER.on(\"show-all\", this.showAllNotes.bind(this));\n    this.handleCreateCancel();\n\n\n  }\n  handleFilter(formState) {\n    this.model.filterItems(formState);\n    this.model.filteredItems.length ?\n      this.view.init(this.model.filteredItems) :\n      this.view.nothingsFound();\n\n    this.model.filteredItems = this.model.items;\n  }\n\n  showAllNotes() {\n    EVENT_EMITTER.on(\"show-all\", this.view.init(this.model.items));\n  }\n\n\n  handleCreateCancel() {\n    this.view.closeCreateModal();\n  }\n\n  addNote(event) {\n    this.model.addItem(event)\n    this.showAllNotes();\n  }\n\n  deleteNote(id) {\n    this.model.deleteItem(id);\n    this.view.deleteNote(id);\n  }\n}\n","import \"./sass/main.scss\";\nimport Model from \"./js/model\";\nimport View from \"./js/view\";\nimport Controller from \"./js/controller\";\n\nconst view = new View();\nconst model = new Model();\n\nnew Controller(model, view);\n"],"sourceRoot":""}