{"version":3,"sources":["webpack:///./js/model.js","webpack:///./js/services/event-emitter.js","webpack:///./js/classes/User.js","webpack:///./js/classes/Admin.js","webpack:///./js/constants/collectionTypes.js","webpack:///./js/view.js","webpack:///./js/controller.js","webpack:///./index.js"],"names":["Model","items","this","selectedItemId","filteredItems","filterItems","formState","Object","values","every","el","nameOfMemberValue","filter","item","name","join","getItemsFromLS","localStorage","JSON","parse","getItem","e","console","error","findItem","id","find","setSelectedItemId","getSelectedItemId","addItem","title","dayOfWeek","time","shortid","row","indexOf","col","some","alert","push","deleteItem","EventEmitter","events","on","type","callback","emit","args","forEach","User","_name","newName","Admin","role","_role","collectionTypes","HELGA","PABLO","KATE","ALEX","View","container","document","querySelector","authModal","confirmUser","form","main","modal","selectNameMember","createModalForm","addNoteBtn","signoutBtn","header","cancelCreateBtn","$","ready","multiselect","includeSelectAllOption","table","addEventListener","toggleDropdown","signOut","bind","onSelectNameMemberChange","openCreateModal","handleAdd","closeCreateModal","handleAuth","onInput","inputValue","target","value","preventDefault","selected","Array","from","options","map","option","note","length","slice","reset","createDOMElement","tag","dataAttribute","text","element","createElement","dataset","textContent","classes","className","classList","add","createGreetings","createNote","section","itemTitle","buttonsContainer","buttonDelete","append","appendEventListners","handleDelete","parent","closest","stopPropagation","deleteNote","remove","closeAuthModal","inst","selectedUser","selectedUserName","toLowerCase","querySelectorAll","style","display","setItem","removeItem","location","reload","init","notes","isAdmin","cell","cellsData","getElementsByTagName","i","innerHTML","rows","cells","nothingsFound","Controller","model","view","addNote","handleFilter","handleCreateCancel","showAllNotes","stringify"],"mappings":"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","file":"main.aaa4e5bffc595f2fb81c.js","sourcesContent":["import shortid from 'shortid';\r\n\r\nexport default class Model {\r\n  constructor(items = []) {\r\n    this.items = items;\r\n    this.selectedItemId = null;\r\n    this.filteredItems = [];\r\n  }\r\n\r\n  filterItems(formState) {\r\n    const isEmptyState = Object.values(formState).every(el => el === '');\r\n    if (isEmptyState) {\r\n      this.filteredItems = this.items;\r\n    }\r\n    if (\r\n      formState.nameOfMemberValue !== '' &&\r\n      formState.nameOfMemberValue !== 'All members'\r\n    ) {\r\n\r\n      this.filteredItems = this.filteredItems.filter(\r\n        item =>\r\n        item.name.filter(el => el === formState.nameOfMemberValue).join('')\r\n      );\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n  getItemsFromLS() {\r\n    if (localStorage.items) {\r\n      try {\r\n        this.items = JSON.parse(localStorage.getItem('items'));\r\n        this.filteredItems = this.items;\r\n      } catch (e) {\r\n        console.error('Error while parsing.');\r\n      }\r\n    }\r\n  }\r\n\r\n  findItem(id) {\r\n    return this.items.find(item => item.id === id);\r\n  }\r\n\r\n  setSelectedItemId(id) {\r\n    this.selectedItemId = id;\r\n  }\r\n\r\n  getSelectedItemId() {\r\n    return this.selectedItemId;\r\n  }\r\n\r\n  addItem({\r\n    title,\r\n    name,\r\n    dayOfWeek,\r\n    time\r\n  }) {\r\n    const timeOfDay = [\r\n      '10:00',\r\n      '11:00',\r\n      '12:00',\r\n      '13:00',\r\n      '14:00',\r\n      '15:00',\r\n      '16:00',\r\n      '17:00',\r\n      '18:00',\r\n    ];\r\n    const daysOfWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\r\n\r\n    const item = {\r\n      id: shortid(),\r\n      title,\r\n      name,\r\n      time,\r\n      dayOfWeek,\r\n      row: timeOfDay.indexOf(time),\r\n      col: daysOfWeek.indexOf(dayOfWeek),\r\n    };\r\n    const checkTime = this.items.some(\r\n      el => el.dayOfWeek === item.dayOfWeek && el.time === item.time,\r\n    );\r\n\r\n    !checkTime\r\n      ?\r\n      this.items.push(item) :\r\n      alert('Failed to create an event! Time slot is already booked');\r\n\r\n    return item;\r\n  }\r\n\r\n  deleteItem(id) {\r\n    this.items = this.items.filter(item => item.id !== id);\r\n  }\r\n}\r\n","export default class EventEmitter {\r\n  constructor() {\r\n    this.events = {};\r\n  }\r\n\r\n  on(type, callback) {\r\n    this.events[type] = this.events[type] || [];\r\n    this.events[type].push(callback);\r\n  }\r\n  emit(type, ...args) {\r\n    if (this.events[type]) {\r\n      this.events[type].forEach(callback => callback(...args));\r\n    }\r\n  }\r\n}\r\n","export default class User {\r\n    constructor(name) {\r\n        this.name = name;\r\n      }\r\n\r\n    get name() {\r\n        return this._name\r\n    }\r\n\r\n    set name(newName) {\r\n        return this._name = newName\r\n    }\r\n  }\r\n  ","import User from './User';\r\n\r\nexport default class Admin extends User {\r\n    constructor(name,role) {\r\n        super(name);\r\n        this._role = role;\r\n      }\r\n\r\n\r\n}\r\n","const collectionTypes = {\r\n    HELGA: 'helga',\r\n    PABLO: 'pablo',\r\n    KATE: 'kate',\r\n    ALEX: 'alex',\r\n  };\r\n  \r\n  export default collectionTypes;\r\n  ","import EventEmitter from './services/event-emitter';\r\nimport User from './classes/User';\r\nimport Admin from './classes/Admin';\r\nimport collectionTypes from './constants/collectionTypes';\r\n\r\nexport default class View extends EventEmitter {\r\n  constructor() {\r\n    super();\r\n    this.formState = {\r\n      nameOfMemberValue: '',\r\n    };\r\n    this.container = document.querySelector('.container');\r\n    this.authModal = document.querySelector('.modal-window-auth');\r\n    this.confirmUser = document.querySelector('button[data-action=\"confirm\"]');\r\n    this.form = document.querySelector('.form');\r\n    this.main = document.querySelector('.main-content');\r\n    this.modal = document.querySelector('.modal-window');\r\n    this.selectNameMember = this.form.querySelector('.select--name');\r\n    this.createModalForm = this.modal.querySelector('.modal-form');\r\n    this.addNoteBtn = document.querySelector('button[data-action=\"add-note\"]');\r\n    this.signoutBtn = document.querySelector('button[data-action=\"signout\"]');\r\n    this.header = document.querySelector('.header-container');\r\n    this.cancelCreateBtn = document.querySelector(\r\n      'button[data-action=\"create-cancel\"]',\r\n    );\r\n\r\n    $(document).ready(function () {\r\n      $('#multiple-checkboxes').multiselect({\r\n        includeSelectAllOption: true,\r\n      });\r\n    });\r\n\r\n    this.table = document.querySelector('table');\r\n    this.container.addEventListener('click', this.toggleDropdown);\r\n    this.signoutBtn.addEventListener('click', this.signOut.bind(this));\r\n    this.selectNameMember.addEventListener(\r\n      'change',\r\n      this.onSelectNameMemberChange.bind(this),\r\n    );\r\n    this.addNoteBtn.addEventListener('click', this.openCreateModal.bind(this));\r\n    this.createModalForm.addEventListener('submit', this.handleAdd.bind(this));\r\n    this.cancelCreateBtn.addEventListener(\r\n      'click',\r\n      this.closeCreateModal.bind(this),\r\n    );\r\n    this.confirmUser.addEventListener('click', this.handleAuth.bind(this));\r\n  }\r\n\r\n  onInput(e) {\r\n    this.formState.inputValue = e.target.value;\r\n    this.emit('filter', this.formState);\r\n  }\r\n\r\n  onSelectNameMemberChange(e) {\r\n    this.formState.nameOfMemberValue = e.target.value;\r\n    this.emit('filter', this.formState);\r\n  }\r\n\r\n  handleAdd(e) {\r\n    e.preventDefault();\r\n    const title = this.modal.querySelector('.modal-form__input');\r\n    const dayOfWeek = this.modal.querySelector('.modal-form__select-day');\r\n    const time = this.modal.querySelector('.modal-form__select-time');\r\n    const name = this.modal.querySelector('#multiple-checkboxes');\r\n\r\n    let selected = Array.from(name.options)\r\n      .filter(function (name) {\r\n        return name.selected;\r\n      })\r\n      .map(function (option) {\r\n        return option.value;\r\n      });\r\n\r\n    if (!title.value) {\r\n      alert('Please, fill the field!');\r\n    } else {\r\n      const note = {\r\n        title:\r\n          title.value.length > 15\r\n            ? title.value.slice(0, 16) + '...'\r\n            : title.value,\r\n        dayOfWeek: dayOfWeek.value,\r\n        time: time.value,\r\n        name: selected,\r\n      };\r\n\r\n      this.emit('add', note);\r\n      this.createModalForm.reset();\r\n      this.closeCreateModal();\r\n    }\r\n  }\r\n  createDOMElement(tag, dataAttribute, text, ...classes) {\r\n    const element = document.createElement(tag);\r\n    dataAttribute\r\n      ? (element.dataset[dataAttribute[0]] = dataAttribute[1])\r\n      : null;\r\n    text ? (element.textContent = text) : null;\r\n    classes.forEach(className => element.classList.add(className));\r\n    return element;\r\n  }\r\n\r\n  createGreetings(name) {\r\n    const title = this.createDOMElement('h2', null, name, 'name-user');\r\n\r\n    return title;\r\n  }\r\n  createNote(note) {\r\n    const section = this.createDOMElement(\r\n      'section',\r\n      null,\r\n      null,\r\n      'event-list__section',\r\n    );\r\n    const item = this.createDOMElement('div', ['id', note.id], null, 'item');\r\n\r\n    const itemTitle = this.createDOMElement(\r\n      'h2',\r\n      null,\r\n      note.title,\r\n      'item__title',\r\n    );\r\n\r\n    const buttonsContainer = this.createDOMElement(\r\n      'div',\r\n      null,\r\n      null,\r\n      'buttons-container',\r\n    );\r\n\r\n    const buttonDelete = this.createDOMElement(\r\n      'button',\r\n      ['action', 'delete'],\r\n      '',\r\n      'button-delete',\r\n    );\r\n\r\n    buttonsContainer.append(buttonDelete);\r\n\r\n    item.append(itemTitle, buttonsContainer);\r\n    section.append(item);\r\n    this.appendEventListners(section);\r\n\r\n    return section;\r\n  }\r\n\r\n  appendEventListners(item) {\r\n    const deleteBtn = item.querySelector('button[data-action=\"delete\"]');\r\n    deleteBtn.addEventListener('click', this.handleDelete.bind(this));\r\n  }\r\n\r\n  handleDelete(e) {\r\n    const parent = e.target.closest('.item');\r\n    e.stopPropagation();\r\n    this.emit('delete', parent.dataset.id);\r\n  }\r\n\r\n  deleteNote(id) {\r\n    const item = this.table.querySelector(`[data-id=\"${id}\"]`);\r\n    item.closest('section').remove();\r\n  }\r\n\r\n  openCreateModal() {\r\n    this.container.classList.add('modal--show');\r\n  }\r\n\r\n  closeCreateModal() {\r\n    this.container.classList.remove('modal--show');\r\n  }\r\n  closeAuthModal() {\r\n    this.container.classList.remove('modal--auth--show');\r\n  }\r\n  handleAuth(e) {\r\n    e.preventDefault();\r\n    let inst;\r\n    const selectedUser = this.authModal.querySelector(\r\n      '.modal-form__select-name',\r\n    );\r\n\r\n    let selectedUserName = selectedUser.value.toLowerCase();\r\n    const items = this.table.querySelectorAll('button[data-action=\"delete\"]');\r\n\r\n    switch (selectedUserName) {\r\n      case collectionTypes.ALEX:\r\n        inst = new Admin(selectedUserName, true);\r\n        items.forEach(item => {\r\n          item.style.display = 'block';\r\n        });\r\n        break;\r\n      case collectionTypes.HELGA:\r\n      case collectionTypes.PABLO:\r\n      case collectionTypes.KATE:\r\n        inst = new User(selectedUserName);\r\n        this.addNoteBtn.style.display = 'none';\r\n        items.forEach(item => {\r\n          item.style.display = 'none';\r\n        });\r\n\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n    this.header.append(this.createGreetings(`Hello, ${selectedUser.value}`));\r\n    localStorage.setItem('userRole', inst._role);\r\n\r\n    this.closeAuthModal();\r\n  }\r\n\r\n  signOut() {\r\n    localStorage.removeItem('userRole');\r\n    location.reload();\r\n  }\r\n\r\n  init(notes) {\r\n    let isAdmin = true;\r\n    isAdmin = localStorage.getItem('userRole');\r\n    let cell = null;\r\n    let cellsData = this.table.getElementsByTagName('td');\r\n    for (let i = 0; i < cellsData.length; i++) {\r\n      cellsData[i].innerHTML = '';\r\n    }\r\n    notes.forEach(note => {\r\n      cell = this.table.rows[note.row + 1].cells[note.col + 1];\r\n      const item = cell.getElementsByTagName('section');\r\n      if (item.length === 0) {\r\n        cell.append(this.createNote(note));\r\n      }\r\n    });\r\n\r\n    const items = this.table.querySelectorAll('button[data-action=\"delete\"]');\r\n\r\n    isAdmin !== 'true' &&\r\n      items.forEach(item => {\r\n        item.style.display = 'none';\r\n      });\r\n  }\r\n\r\n  nothingsFound() {\r\n    let cellsData = this.table.getElementsByTagName('td');\r\n    for (let i = 0; i < cellsData.length; i++) {\r\n      cellsData[i].innerHTML = '';\r\n    }\r\n  }\r\n}\r\n","export default class Controller {\r\n  constructor(model, view) {\r\n    this.model = model;\r\n    this.view = view;\r\n\r\n    this.model.getItemsFromLS();\r\n    this.view.init(this.model.items);\r\n    this.view.on(\"add\", this.addNote.bind(this));\r\n    this.view.on(\"delete\", this.deleteNote.bind(this));\r\n    this.view.on(\"filter\", this.handleFilter.bind(this));\r\n    this.view.on(\"create-cancel\", this.handleCreateCancel.bind(this));\r\n\r\n  }\r\n  handleFilter(formState) {\r\n    this.model.filterItems(formState);\r\n    this.model.filteredItems.length ?\r\n      this.view.init(this.model.filteredItems) :\r\n      this.view.nothingsFound();\r\n\r\n    this.model.filteredItems = this.model.items;\r\n  }\r\n\r\n  showAllNotes() {\r\n    this.view.init(this.model.items);\r\n  }\r\n\r\n\r\n  handleCreateCancel() {\r\n    this.view.closeCreateModal();\r\n  }\r\n\r\n  addNote(note) {\r\n    this.model.addItem(note);\r\n    try {\r\n      localStorage.setItem(\"items\", JSON.stringify(this.model.items));\r\n    } catch (e) {\r\n      console.error(\"Error while parsing.\");\r\n    }\r\n    this.showAllNotes();\r\n  }\r\n\r\n  deleteNote(id) {\r\n    this.model.deleteItem(id);\r\n    try {\r\n      localStorage.setItem(\"items\", JSON.stringify(this.model.items));\r\n    } catch (e) {\r\n      console.error(\"Error while parsing.\");\r\n    }\r\n    this.view.deleteNote(id);\r\n  }\r\n}\r\n","import \"./sass/main.scss\";\r\nimport Model from \"./js/model\";\r\nimport View from \"./js/view\";\r\nimport Controller from \"./js/controller\";\r\n\r\nconst view = new View();\r\nconst model = new Model();\r\n\r\nnew Controller(model, view);\r\n"],"sourceRoot":""}