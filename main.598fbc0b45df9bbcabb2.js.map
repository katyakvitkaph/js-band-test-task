{"version":3,"sources":["webpack:///./js/model.js","webpack:///./js/services/service-api.js","webpack:///./js/services/event-emitter.js","webpack:///./js/constants/collectionTypes.js","webpack:///./js/classes/User.js","webpack:///./js/classes/Admin.js","webpack:///./js/classes/UserFactory.js","webpack:///./js/view.js","webpack:///./js/controller.js","webpack:///./index.js"],"names":["service","this","server","axios","initUsers","params","post","result","Error","getAllUsers","get","addEvent","getAllEvents","data","deleteEvent","id","delete","Model","items","selectedItemId","filteredItems","filterItems","formState","Object","values","every","el","nameOfMemberValue","filter","item","name","join","getEvents","callback","then","getObject","map","obj","JSON","parse","forEach","push","success","text","closerHover","delay","catch","findItem","find","setSelectedItemId","getSelectedItemId","addItem","title","dayOfWeek","time","shortid","row","indexOf","col","some","alert","stringify","e","console","error","initUser","i","users","length","res","deleteItem","idObj","getArrayOfStrings","includes","getObj","EventEmitter","instance","events","on","type","emit","args","collectionTypes","HELGA","PABLO","KATE","ALEX","User","_name","newName","Admin","role","_role","UserFactory","create","object","EVENT_EMITTER","View","isAdmin","container","document","querySelector","authModal","selectedUser","confirmUser","form","main","modal","selectNameMember","createModalForm","addNoteBtn","signoutBtn","header","cancelCreateBtn","$","ready","multiselect","includeSelectAllOption","table","addEventListener","toggleDropdown","signOut","bind","onSelectNameMemberChange","openCreateModal","handleAdd","closeCreateModal","handleAuth","target","value","preventDefault","selected","Array","from","options","option","event","slice","reset","createDOMElement","tag","dataAttribute","element","createElement","dataset","textContent","classes","className","classList","add","createGreetings","createNote","note","section","itemTitle","buttonsContainer","buttonDelete","append","appendEventListners","handleDelete","parent","closest","stopPropagation","deleteNote","remove","closeAuthModal","selectedUserName","toLowerCase","querySelectorAll","style","display","localStorage","removeItem","location","reload","init","notes","cell","cellsData","getElementsByTagName","innerHTML","rows","cells","nothingsFound","Controller","model","view","addNote","handleFilter","showAllNotes","handleCreateCancel"],"mappings":"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","file":"main.598fbc0b45df9bbcabb2.js","sourcesContent":["import shortid from 'shortid';\nimport { alert, success, error } from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css';\nimport users from '../users.json';\nimport ServiceAPI from './services/service-api';\n\nconst service = new ServiceAPI();\n\nexport default class Model {\n  constructor(items = []) {\n    this.items = items;\n    this.selectedItemId = null;\n    this.filteredItems = [];\n  }\n\n  filterItems(formState) {\n    const isEmptyState = Object.values(formState).every(el => el === '');\n    if (isEmptyState) {\n      this.filteredItems = this.items;\n    }\n    if (\n      formState.nameOfMemberValue !== '' &&\n      formState.nameOfMemberValue !== 'All members'\n    ) {\n      this.filteredItems = this.filteredItems.filter(item =>\n        item.name.filter(el => el === formState.nameOfMemberValue).join(''),\n      );\n    }\n  }\n\n  async getEvents(callback) {\n    await service\n      .getAllEvents()\n      .then(result => {\n        result &&\n          (getObject = result\n            .map(obj => JSON.parse(obj.data))\n            .forEach(el => this.items.push(el)));\n        success({\n          text: 'Events loaded successfully!',\n          closerHover: false,\n          delay: 1000,\n        });\n        return this.items;\n      })\n      .catch();\n\n    callback();\n  }\n\n  findItem(id) {\n    return this.items.find(item => item.id === id);\n  }\n\n  setSelectedItemId(id) {\n    this.selectedItemId = id;\n  }\n\n  getSelectedItemId() {\n    return this.selectedItemId;\n  }\n\n  addItem({ title, name, dayOfWeek, time }) {\n    const timeOfDay = [\n      '10:00',\n      '11:00',\n      '12:00',\n      '13:00',\n      '14:00',\n      '15:00',\n      '16:00',\n      '17:00',\n      '18:00',\n    ];\n    const daysOfWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n\n    const item = {\n      id: shortid(),\n      title,\n      name,\n      time,\n      dayOfWeek,\n      row: timeOfDay.indexOf(time),\n      col: daysOfWeek.indexOf(dayOfWeek),\n    };\n\n    if (this.items !== null) {\n      const checkTime = this.items.some(\n        el => el.dayOfWeek === item.dayOfWeek && el.time === item.time,\n      );\n      !checkTime\n        ? this.items.push(item)\n        : alert('Failed to create an event! Time slot is already booked');\n    }\n    try {\n      service\n        .addEvent({\n          data: JSON.stringify(item),\n        })\n        .then(result => {\n          success({\n            text: 'Added new event.',\n            closerHover: false,\n            delay: 1000,\n          });\n          return result.data;\n        });\n    } catch (e) {\n      console.error('Error while parsing.');\n      error({\n        text: \"Erorr! The event hasn't been added!\",\n        closerHover: false,\n        delay: 1000,\n      });\n    }\n    return item;\n  }\n\n  initUser() {\n    service.getAllUsers().then(result => {\n      if (result.data === null) {\n        for (let i = 0; i <= users.length; i += 1) {\n          service\n            .initUsers({\n              data: `${users[i].data}`,\n            })\n            .then(res => {\n              return res;\n            });\n        }\n      }\n    });\n  }\n\n  deleteItem(id) {\n    let idObj;\n    service.getAllEvents().then(result => {\n      let getArrayOfStrings = result\n        .map(el => el.data)\n        .find(el => el.includes(id));\n      let getObj = result\n        .filter(el => el.data === getArrayOfStrings)\n        .find(el => el.id);\n      idObj = getObj.id;\n      service.deleteEvent(idObj).then(() => {\n        success({\n          text: 'Deleted.',\n          closerHover: false,\n          delay: 1000,\n        });\n        return;\n      });\n      return;\n    });\n    this.items = this.items.filter(item => item.id !== id);\n  }\n}\n","import axios from 'axios';\nconst baseURL = 'http://158.101.166.74:8080/api/data/kate_kiriuhina';\n\n\nexport default class ServiceAPI {\n  constructor() {\n    this.server = baseURL;\n    this.axios = axios;\n  }\n\n  async initUsers(params) {\n    try {\n      let result = await this.axios.post(`${this.server}/users`, params);\n      return result;\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n  async getAllUsers() {\n    try {\n      let result = await this.axios.get(`${this.server}/users`);\n      return result;\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n\n  async addEvent(params) {\n    try {\n      let result = await this.axios.post(`${this.server}/events`, params);\n\n      return result;\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n  async getAllEvents() {\n    try {\n      let result = await this.axios.get(`${this.server}/events`);\n\n      return result.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n  async deleteEvent(id) {\n    try {\n      let result = await this.axios.delete(`${this.server}/events/${id}`);\n      return result;\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n}","class EventEmitter {\n  constructor() {\n    if (typeof EventEmitter.instance === 'object') {\n      return EventEmitter.instance;\n    }\n\n    this.events = {};\n    EventEmitter.instance = this;\n    return this;\n  }\n\n  on(type, callback) {\n    this.events[type] = this.events[type] || [];\n    this.events[type].push(callback);\n  }\n\n  emit(type, ...args) {\n    if (this.events[type]) {\n      this.events[type].forEach(callback => callback(...args));\n    }\n  }\n}\n\nexport default EventEmitter;\n","const collectionTypes = {\n    HELGA: 'helga',\n    PABLO: 'pablo',\n    KATE: 'kate',\n    ALEX: 'alex',\n  };\n  \n  export default collectionTypes;\n  ","export default class User {\n    constructor(name) {\n        this.name = name;\n      }\n\n    get name() {\n      return this._name\n    }\n\n    set name(newName) {\n      return this._name = newName\n  }\n  }\n  ","import User from './User';\n\nexport default class Admin extends User {\n    constructor({name,role}) {\n        super(name);\n        this._role = role;\n      }\n\n}\n","import collectionTypes from '../constants/collectionTypes';\r\nimport User from './User';\r\nimport Admin from './Admin';\r\n\r\nexport default class UserFactory {\r\n  static create(type, object) {\r\n    switch (type) {\r\n      case collectionTypes.HELGA:\r\n        return new User(object);\r\n      case collectionTypes.PABLO:\r\n        return new User(object);\r\n        case collectionTypes.ALEX:\r\n          return new Admin(object);\r\n        case collectionTypes.KATE:\r\n          return new User(object);\r\n      default: {\r\n    \r\n      }\r\n    }\r\n  }\r\n}\r\n","import EventEmitter from './services/event-emitter';\nimport collectionTypes from './constants/collectionTypes';\nimport UserFactory from './classes/UserFactory';\nimport shortid from 'shortid';\nconst EVENT_EMITTER = new EventEmitter();\n\nexport default class View {\n  constructor() {\n    this.formState = {\n      nameOfMemberValue: '',\n      isAdmin: false,\n    };\n\n    this.id = shortid();\n    this.container = document.querySelector('.container');\n    this.authModal = document.querySelector('.modal-window-auth');\n    this.selectedUser = this.authModal.querySelector(\n      '.modal-form__select-name',\n    );\n    this.confirmUser = document.querySelector('button[data-action=\"confirm\"]');\n    this.form = document.querySelector('.form');\n    this.main = document.querySelector('.main-content');\n    this.modal = document.querySelector('.modal-window');\n    this.selectNameMember = this.form.querySelector('.select--name');\n    this.createModalForm = this.modal.querySelector('.modal-form');\n    this.addNoteBtn = document.querySelector('button[data-action=\"add-note\"]');\n    this.signoutBtn = document.querySelector('button[data-action=\"signout\"]');\n    this.header = document.querySelector('.header-container');\n    this.cancelCreateBtn = document.querySelector(\n      'button[data-action=\"create-cancel\"]',\n    );\n    $(document).ready(function () {\n      $('#multiple-checkboxes').multiselect({\n        includeSelectAllOption: true,\n      });\n    });\n    this.table = document.querySelector('table');\n\n    this.container.addEventListener('click', this.toggleDropdown);\n    this.signoutBtn.addEventListener('click', this.signOut.bind(this));\n    this.selectNameMember.addEventListener(\n      'change',\n      this.onSelectNameMemberChange.bind(this),\n    );\n    this.addNoteBtn.addEventListener('click', this.openCreateModal.bind(this));\n    this.createModalForm.addEventListener('submit', this.handleAdd.bind(this));\n    this.cancelCreateBtn.addEventListener(\n      'click',\n      this.closeCreateModal.bind(this),\n    );\n    this.confirmUser.addEventListener('click', this.handleAuth.bind(this));\n  }\n\n  onSelectNameMemberChange(e) {\n    this.formState.nameOfMemberValue = e.target.value;\n    EVENT_EMITTER.emit('filter', this.formState);\n  }\n\n  handleAdd(e) {\n    e.preventDefault();\n    const title = this.modal.querySelector('.modal-form__input');\n    const dayOfWeek = this.modal.querySelector('.modal-form__select-day');\n    const time = this.modal.querySelector('.modal-form__select-time');\n    const name = this.modal.querySelector('#multiple-checkboxes');\n\n    let selected = Array.from(name.options)\n      .filter(function (name) {\n        return name.selected;\n      })\n      .map(function (option) {\n        return option.value;\n      });\n\n    if (!title.value) {\n      alert({\n        text: 'Please, fill the field!',\n      });\n    } else {\n      const event = {\n        title: title.value.length > 15 ?\n          title.value.slice(0, 16) + '...' : title.value,\n        dayOfWeek: dayOfWeek.value,\n        time: time.value,\n        name: selected,\n      };\n\n      EVENT_EMITTER.emit('add', event);\n      this.createModalForm.reset();\n      this.closeCreateModal();\n    }\n  }\n  createDOMElement(tag, dataAttribute, text, ...classes) {\n    const element = document.createElement(tag);\n    dataAttribute\n      ?\n      (element.dataset[dataAttribute[0]] = dataAttribute[1]) :\n      null;\n    text ? (element.textContent = text) : null;\n    classes.forEach(className => element.classList.add(className));\n    return element;\n  }\n\n  createGreetings(name) {\n    const title = this.createDOMElement('h2', null, name, 'name-user');\n\n    return title;\n  }\n  createNote(note) {\n    const section = this.createDOMElement(\n      'section',\n      null,\n      null,\n      'event-list__section',\n    );\n    const item = this.createDOMElement('div', ['id', note.id], null, 'item');\n\n    const itemTitle = this.createDOMElement(\n      'h2',\n      null,\n      note.title,\n      'item__title',\n    );\n\n    const buttonsContainer = this.createDOMElement(\n      'div',\n      null,\n      null,\n      'buttons-container',\n    );\n\n    const buttonDelete = this.createDOMElement(\n      'button',\n      ['action', 'delete'],\n      '',\n      'button-delete',\n    );\n\n    buttonsContainer.append(buttonDelete);\n    item.append(itemTitle, buttonsContainer);\n    section.append(item);\n    this.appendEventListners(section);\n    return section;\n  }\n\n  appendEventListners(item) {\n    const deleteBtn = item.querySelector('button[data-action=\"delete\"]');\n    deleteBtn.addEventListener('click', this.handleDelete.bind(this));\n  }\n\n  handleDelete(e) {\n    const parent = e.target.closest('.item');\n    e.stopPropagation();\n    EVENT_EMITTER.emit('delete', parent.dataset.id);\n  }\n\n  deleteNote(id) {\n    const item = this.table.querySelector(`[data-id=\"${id}\"]`);\n    item.closest('section').remove();\n  }\n\n  openCreateModal() {\n    this.container.classList.add('modal--show');\n  }\n\n  closeCreateModal() {\n    this.container.classList.remove('modal--show');\n  }\n  closeAuthModal() {\n    this.container.classList.remove('modal--auth--show');\n  }\n\n  handleAuth(e) {\n    e.preventDefault();\n\n    const selectedUser = this.authModal.querySelector(\n      '.modal-form__select-name',\n    );\n    let selectedUserName = selectedUser.value.toLowerCase();\n    const items = this.table.querySelectorAll('button[data-action=\"delete\"]');\n\n    switch (selectedUserName) {\n      case collectionTypes.ALEX:\n        this.formState.isAdmin = UserFactory.create(selectedUserName, {\n          name: `${selectedUser.value}`,\n          role: true,\n        });\n        items.forEach(item => {\n          item.style.display = 'block';\n        });\n        break;\n      case collectionTypes.HELGA:\n      case collectionTypes.PABLO:\n      case collectionTypes.KATE:\n        UserFactory.create(selectedUserName, `${selectedUser.value}`);\n        this.addNoteBtn.style.display = 'none';\n        items.forEach(item => {\n          item.style.display = 'none';\n        });\n        break;\n      default:\n        return;\n    }\n\n    this.header.append(this.createGreetings(`Hello, ${selectedUser.value}`));\n    this.closeAuthModal();\n  }\n\n  signOut() {\n    localStorage.removeItem('userRole');\n    location.reload();\n  }\n\n  init(notes) {\n    let cell = null;\n    let cellsData = this.table.getElementsByTagName('td');\n    for (let i = 0; i < cellsData.length; i++) {\n      cellsData[i].innerHTML = '';\n    }\n    notes.forEach(note => {\n      cell = this.table.rows[note.row + 1].cells[note.col + 1];\n      const item = cell.getElementsByTagName('section');\n      if (item.length === 0) {\n        cell.append(this.createNote(note));\n      }\n    });\n    const items = this.table.querySelectorAll('button[data-action=\"delete\"]');\n    !this.formState.isAdmin &&\n      items.forEach(item => {\n        item.style.display = 'none';\n      });\n  }\n\n  nothingsFound() {\n    let cellsData = this.table.getElementsByTagName('td');\n    for (let i = 0; i < cellsData.length; i++) {\n      cellsData[i].innerHTML = '';\n    }\n  }\n}\n","import EventEmitter from './services/event-emitter';\n\nconst EVENT_EMITTER = new EventEmitter();\n\nexport default class Controller {\n  constructor(model, view) {\n    this.model = model;\n    this.view = view;\n    this.model.initUser()\n    EVENT_EMITTER.on(\"add\", this.addNote.bind(this));\n    EVENT_EMITTER.on(\"delete\", this.deleteNote.bind(this));\n    EVENT_EMITTER.on(\"filter\", this.handleFilter.bind(this));\n    EVENT_EMITTER.on(\"show-all\", this.showAllNotes.bind(this));\n    this.handleCreateCancel();\n    this.model.getEvents(() => this.view.init(this.model.items))\n\n  }\n  handleFilter(formState) {\n    this.model.filterItems(formState);\n    this.model.filteredItems.length ?\n      this.view.init(this.model.filteredItems) :\n      this.view.nothingsFound();\n\n    this.model.filteredItems = this.model.items;\n  }\n\n  showAllNotes() {\n    EVENT_EMITTER.on(\"show-all\", this.view.init(this.model.items));\n  }\n\n\n  handleCreateCancel() {\n    this.view.closeCreateModal();\n  }\n\n  addNote(note) {\n    this.model.addItem(note)\n    this.showAllNotes();\n  }\n\n  deleteNote(id) {\n    this.model.deleteItem(id);\n    this.view.deleteNote(id);\n  }\n}\n","import \"./sass/main.scss\";\nimport Model from \"./js/model\";\nimport View from \"./js/view\";\nimport Controller from \"./js/controller\";\n\nconst view = new View();\nconst model = new Model();\n\nnew Controller(model, view);\n"],"sourceRoot":""}