{"version":3,"sources":["webpack:///./js/services/index.js","webpack:///./js/model.js","webpack:///./js/services/event-emitter.js","webpack:///./js/classes/User.js","webpack:///./js/classes/Admin.js","webpack:///./js/constants/collectionTypes.js","webpack:///./js/view.js","webpack:///./js/controller.js","webpack:///./index.js"],"names":["ServiceAPI","this","server","axios","initUser","params","post","result","Error","getAllUsers","get","addEvent","getAllEvents","data","deleteEvent","id","delete","service","Model","items","selectedItemId","filteredItems","filterItems","formState","Object","values","every","el","nameOfMemberValue","filter","item","name","join","getEvents","callback","then","map","obj","JSON","parse","forEach","push","success","text","closerHover","delay","findItem","find","setSelectedItemId","getSelectedItemId","addItem","title","dayOfWeek","time","shortid","row","indexOf","col","some","alert","deleteItem","idObj","getArrayOfStrings","includes","getObj","EventEmitter","events","on","type","emit","args","User","_name","newName","Admin","role","_role","collectionTypes","HELGA","PABLO","KATE","ALEX","View","container","document","querySelector","authModal","confirmUser","form","main","modal","selectNameMember","createModalForm","addNoteBtn","signoutBtn","header","cancelCreateBtn","$","ready","multiselect","includeSelectAllOption","table","addEventListener","toggleDropdown","signOut","bind","onSelectNameMemberChange","openCreateModal","handleAdd","closeCreateModal","handleAuth","e","target","value","preventDefault","selected","Array","from","options","option","note","length","slice","reset","notice","createDOMElement","tag","dataAttribute","element","createElement","dataset","textContent","classes","className","classList","add","createGreetings","createNote","section","itemTitle","buttonsContainer","buttonDelete","append","appendEventListners","handleDelete","parent","closest","stopPropagation","deleteNote","remove","closeAuthModal","inst","selectedUser","selectedUserName","toLowerCase","querySelectorAll","style","display","localStorage","setItem","removeItem","location","reload","init","notes","isAdmin","getItem","cell","cellsData","getElementsByTagName","i","innerHTML","rows","cells","nothingsFound","Controller","model","view","addNote","handleFilter","handleCreateCancel","showAllNotes","stringify","console","error"],"mappings":"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","file":"main.64ba83e9254e53693665.js","sourcesContent":["import axios from 'axios';\nconst baseURL = 'http://158.101.166.74:8080/api/data/kate_kiriukhina';\n\n\nexport default class ServiceAPI {\n  constructor() {\n    this.server = baseURL;\n    this.axios = axios;\n  }\n\n  async initUser(params) {\n    try {\n      let result = await this.axios.post(`${this.server}/users`, params);\n      return result;\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n  async getAllUsers() {\n    try {\n      let result = await this.axios.get(`${this.server}/users`);\n      return result;\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n\n  async addEvent(params) {\n    try {\n      let result = await this.axios.post(`${this.server}/events`, params);\n\n      return result;\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n  async getAllEvents() {\n    try {\n      let result = await this.axios.get(`${this.server}/events`);\n\n      return result.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n  async deleteEvent(id) {\n    try {\n      let result = await this.axios.delete(`${this.server}/events/${id}`);\n      return result;\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n}","import shortid from 'shortid';\nimport { alert, success } from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css';\nimport ServiceAPI from './services/index';\n\nconst service = new ServiceAPI();\nexport default class Model {\n  constructor(items = []) {\n    this.items = items;\n    this.selectedItemId = null;\n    this.filteredItems = [];\n  }\n\n  filterItems(formState) {\n    const isEmptyState = Object.values(formState).every(el => el === '');\n    if (isEmptyState) {\n      this.filteredItems = this.items;\n    }\n    if (\n      formState.nameOfMemberValue !== '' &&\n      formState.nameOfMemberValue !== 'All members'\n    ) {\n      this.filteredItems = this.filteredItems.filter(item =>\n        item.name.filter(el => el === formState.nameOfMemberValue).join(''),\n      );\n    }\n  }\n\n  async getEvents(callback) {\n    await \n    service.getAllEvents().then(result => {\n      let getObject;\n      result &&\n        (getObject = result\n          .map(obj => JSON.parse(obj.data))\n          .forEach(el => this.items.push(el)));\n          \n      return this.items;\n    })\n    success({\n      text: \"Events loaded successfully!\",\n      closerHover: false,\n      delay: 1000\n     \n    });\n    callback();\n  }\n\n  findItem(id) {\n    return this.items.find(item => item.id === id);\n  }\n\n  setSelectedItemId(id) {\n    this.selectedItemId = id;\n  }\n\n  getSelectedItemId() {\n    return this.selectedItemId;\n  }\n\n  addItem({ title, name, dayOfWeek, time }) {\n    const timeOfDay = [\n      '10:00',\n      '11:00',\n      '12:00',\n      '13:00',\n      '14:00',\n      '15:00',\n      '16:00',\n      '17:00',\n      '18:00',\n    ];\n    const daysOfWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n\n    const item = {\n      id: shortid(),\n      title,\n      name,\n      time,\n      dayOfWeek,\n      row: timeOfDay.indexOf(time),\n      col: daysOfWeek.indexOf(dayOfWeek),\n    };\n\n    if (this.items !== null) {\n      const checkTime = this.items.some(\n        el => el.dayOfWeek === item.dayOfWeek && el.time === item.time,\n      );\n      !checkTime\n        ? this.items.push(item)\n        : alert('Failed to create an event! Time slot is already booked');\n    }\n\n    return item;\n  }\n\n  deleteItem(id) {\n    let idObj;\n    service.getAllEvents().then(result => {\n      let getArrayOfStrings = result\n        .map(el => el.data)\n        .find(el => el.includes(id));\n      let getObj = result\n        .filter(el => el.data === getArrayOfStrings)\n        .find(el => el.id);\n      idObj = getObj.id;\n      service.deleteEvent(idObj).then(() => {\n        success({\n          text: \"Deleted.\",\n          closerHover: false,\n          delay: 1000\n         \n        });\n        return;\n      });\n      return;\n    });\n    this.items = this.items.filter(item => item.id !== id);\n  }\n}\n","export default class EventEmitter {\n  constructor() {\n    this.events = {};\n  }\n\n  on(type, callback) {\n    this.events[type] = this.events[type] || [];\n    this.events[type].push(callback);\n  }\n  emit(type, ...args) {\n    if (this.events[type]) {\n      this.events[type].forEach(callback => callback(...args));\n    }\n  }\n}\n","export default class User {\n    constructor(name) {\n        this.name = name;\n      }\n\n    get name() {\n        return this._name\n    }\n\n    set name(newName) {\n        return this._name = newName\n    }\n  }\n  ","import User from './User';\n\nexport default class Admin extends User {\n    constructor(name,role) {\n        super(name);\n        this._role = role;\n      }\n\n\n}\n","const collectionTypes = {\n    HELGA: 'helga',\n    PABLO: 'pablo',\n    KATE: 'kate',\n    ALEX: 'alex',\n  };\n  \n  export default collectionTypes;\n  ","import { alert, notice, info, success, error } from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css';\nimport EventEmitter from './services/event-emitter';\nimport User from './classes/User';\nimport Admin from './classes/Admin';\nimport collectionTypes from './constants/collectionTypes';\nimport shortid from \"shortid\";\nimport ServiceAPI from './services/index';\n\n\nconst service = new ServiceAPI();\nexport default class View extends EventEmitter {\n  constructor() {\n    super();\n    this.formState = {\n      nameOfMemberValue: '',\n    };\n    this.id = shortid();\n    this.container = document.querySelector('.container');\n    this.authModal = document.querySelector('.modal-window-auth');\n    this.confirmUser = document.querySelector('button[data-action=\"confirm\"]');\n    this.form = document.querySelector('.form');\n    this.main = document.querySelector('.main-content');\n    this.modal = document.querySelector('.modal-window');\n    this.selectNameMember = this.form.querySelector('.select--name');\n    this.createModalForm = this.modal.querySelector('.modal-form');\n    this.addNoteBtn = document.querySelector('button[data-action=\"add-note\"]');\n    this.signoutBtn = document.querySelector('button[data-action=\"signout\"]');\n    this.header = document.querySelector('.header-container');\n\n    this.cancelCreateBtn = document.querySelector(\n      'button[data-action=\"create-cancel\"]',\n    );\n\n    $(document).ready(function () {\n      $('#multiple-checkboxes').multiselect({\n        includeSelectAllOption: true,\n      });\n    });\n\n    this.table = document.querySelector('table');\n    this.container.addEventListener('click', this.toggleDropdown);\n    this.signoutBtn.addEventListener('click', this.signOut.bind(this));\n    this.selectNameMember.addEventListener(\n      'change',\n      this.onSelectNameMemberChange.bind(this),\n    );\n    this.addNoteBtn.addEventListener('click', this.openCreateModal.bind(this));\n    this.createModalForm.addEventListener('submit', this.handleAdd.bind(this));\n    this.cancelCreateBtn.addEventListener(\n      'click',\n      this.closeCreateModal.bind(this),\n    );\n    this.confirmUser.addEventListener('click', this.handleAuth.bind(this));\n\n  }\n\n  onSelectNameMemberChange(e) {\n    this.formState.nameOfMemberValue = e.target.value;\n    this.emit('filter', this.formState);\n  }\n\n  handleAdd(e) {\n    e.preventDefault();\n    const title = this.modal.querySelector('.modal-form__input');\n    const dayOfWeek = this.modal.querySelector('.modal-form__select-day');\n    const time = this.modal.querySelector('.modal-form__select-time');\n    const name = this.modal.querySelector('#multiple-checkboxes');\n\n    let selected = Array.from(name.options)\n      .filter(function (name) {\n        return name.selected;\n      })\n      .map(function (option) {\n        return option.value;\n      });\n\n    if (!title.value) {\n      notice({\n        text: \"Please, fill the field!\",\n      });\n    } else {\n      const note = {\n        title: title.value.length > 15 ?\n          title.value.slice(0, 16) + '...' : title.value,\n        dayOfWeek: dayOfWeek.value,\n        time: time.value,\n        name: selected,\n      };\n\n      this.emit('add', note);\n      this.createModalForm.reset();\n      this.closeCreateModal();\n    }\n  }\n  createDOMElement(tag, dataAttribute, text, ...classes) {\n    const element = document.createElement(tag);\n    dataAttribute\n      ?\n      (element.dataset[dataAttribute[0]] = dataAttribute[1]) :\n      null;\n    text ? (element.textContent = text) : null;\n    classes.forEach(className => element.classList.add(className));\n    return element;\n  }\n\n  createGreetings(name) {\n    const title = this.createDOMElement('h2', null, name, 'name-user');\n\n    return title;\n  }\n  createNote(note) {\n    const section = this.createDOMElement(\n      'section',\n      null,\n      null,\n      'event-list__section',\n    );\n    const item = this.createDOMElement('div', ['id', note.id], null, 'item');\n\n    const itemTitle = this.createDOMElement(\n      'h2',\n      null,\n      note.title,\n      'item__title',\n    );\n\n    const buttonsContainer = this.createDOMElement(\n      'div',\n      null,\n      null,\n      'buttons-container',\n    );\n\n    const buttonDelete = this.createDOMElement(\n      'button',\n      ['action', 'delete'],\n      '',\n      'button-delete',\n    );\n\n    buttonsContainer.append(buttonDelete);\n\n    item.append(itemTitle, buttonsContainer);\n    section.append(item);\n    this.appendEventListners(section);\n\n    return section;\n  }\n\n  appendEventListners(item) {\n    const deleteBtn = item.querySelector('button[data-action=\"delete\"]');\n    deleteBtn.addEventListener('click', this.handleDelete.bind(this));\n  }\n\n  handleDelete(e) {\n    const parent = e.target.closest('.item');\n    e.stopPropagation();\n    this.emit('delete', parent.dataset.id);\n  }\n\n  deleteNote(id) {\n    const item = this.table.querySelector(`[data-id=\"${id}\"]`);\n    item.closest('section').remove();\n  }\n\n  openCreateModal() {\n    this.container.classList.add('modal--show');\n  }\n\n  closeCreateModal() {\n    this.container.classList.remove('modal--show');\n  }\n  closeAuthModal() {\n    this.container.classList.remove('modal--auth--show');\n  }\n  handleAuth(e) {\n    e.preventDefault();\n    let inst;\n\n    const selectedUser = this.authModal.querySelector(\n      '.modal-form__select-name',\n    );\n\n    let selectedUserName = selectedUser.value.toLowerCase();\n    const items = this.table.querySelectorAll('button[data-action=\"delete\"]');\n\n    let findUser;\n    service.getAllUsers().then(result => {\n      findUser = result.data.some(item => item.data === selectedUserName)\n\n      return !findUser &&\n        service.initUser({\n          \"data\": `${selectedUserName}`,\n          \"id\": this.id\n        }).then(() => {\n         return\n        }\n        );\n        \n    })\n    \n\n    switch (selectedUserName) {\n      case collectionTypes.ALEX:\n        inst = new Admin(selectedUserName, true);\n        items.forEach(item => {\n          item.style.display = 'block';\n        });\n        break;\n      case collectionTypes.HELGA:\n      case collectionTypes.PABLO:\n      case collectionTypes.KATE:\n        inst = new User(selectedUserName);\n        this.addNoteBtn.style.display = 'none';\n        items.forEach(item => {\n          item.style.display = 'none';\n        });\n\n        break;\n      default:\n        return;\n    }\n    this.header.append(this.createGreetings(`Hello, ${selectedUser.value}`));\n    localStorage.setItem('userRole', inst._role);\n    this.closeAuthModal();\n\n  }\n\n  signOut() {\n    localStorage.removeItem('userRole');\n    location.reload();\n  }\n\n  init(notes) {\n    let isAdmin = true;\n    isAdmin = localStorage.getItem('userRole');\n    let cell = null;\n    let cellsData = this.table.getElementsByTagName('td');\n    for (let i = 0; i < cellsData.length; i++) {\n      cellsData[i].innerHTML = '';\n    }\n    notes.forEach(note => {\n      cell = this.table.rows[note.row + 1].cells[note.col + 1];\n\n      const item = cell.getElementsByTagName('section');\n\n      if (item.length === 0) {\n        cell.append(this.createNote(note));\n      }\n    });\n    const items = this.table.querySelectorAll('button[data-action=\"delete\"]');\n    isAdmin !== 'true' &&\n      items.forEach(item => {\n        item.style.display = 'none';\n      });\n\n  }\n\n  nothingsFound() {\n    let cellsData = this.table.getElementsByTagName('td');\n    for (let i = 0; i < cellsData.length; i++) {\n      cellsData[i].innerHTML = '';\n    }\n  }\n}\n","import ServiceAPI from './services/index';\nimport {success, error } from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css';\n\nconst service = new ServiceAPI();\nexport default class Controller {\n  constructor(model, view) {\n    this.model = model;\n    this.view = view;\n    this.view.on(\"add\", this.addNote.bind(this));\n    this.view.on(\"delete\", this.deleteNote.bind(this));\n    this.view.on(\"filter\", this.handleFilter.bind(this));\n    this.view.on(\"create-cancel\", this.handleCreateCancel.bind(this));\n    this.model.getEvents(() => this.view.init(this.model.items))\n\n  }\n  handleFilter(formState) {\n    this.model.filterItems(formState);\n    this.model.filteredItems.length ?\n      this.view.init(this.model.filteredItems) :\n      this.view.nothingsFound();\n\n    this.model.filteredItems = this.model.items;\n  }\n\n  showAllNotes() {\n    this.view.init(this.model.items);\n  }\n\n\n  handleCreateCancel() {\n    this.view.closeCreateModal();\n  }\n\n  addNote(note) {\n    try {\n      service.addEvent({\n        \"data\": JSON.stringify(this.model.addItem(note))\n      }).then(result => {\n        success({\n          text: \"Added new event.\",\n          closerHover: false,\n          delay: 1000\n         \n        });\n        return result.data\n      });\n    } catch (e) {\n      console.error(\"Error while parsing.\");\n      error({\n        text: \"Erorr! The event hasn't been added!\",\n        closerHover: false,\n        delay: 1000\n       \n      });\n    }\n    this.showAllNotes();\n  }\n\n  deleteNote(id) {\n    this.model.deleteItem(id);\n    this.view.deleteNote(id);\n  }\n}\n","import \"./sass/main.scss\";\nimport Model from \"./js/model\";\nimport View from \"./js/view\";\nimport Controller from \"./js/controller\";\n\nconst view = new View();\nconst model = new Model();\n\nnew Controller(model, view);\n"],"sourceRoot":""}